# 0957_prison-cells-after-n-days

仔细读题, 数组长度时固定为`8`.

我们可以把数组变换为一个int, 用位运算去模拟一天的变更.

注意, 两头的位置在第二天及之后就不会关任何人了.

题目的数据, `N`会非常大, 我们需要找到循环来跳过中间的一些过程.

因为数据很小, 打了下表:

```go
func findCircle() []int {
	result := []int{}
	for i := 0 ; i <= 0b01111110; i++ {
		if i & 0b01111110 != i {
			result = append(result, 0)
			continue
		}
		println(i)
		num := i
		step := 0
		for {
			num = getNext(num)
			step++
			if num == i {
				break;
			}
		}
		result = append(result, step)
	}

	return result
}
```

```text
[7 0 14 0 14 0 14 0 14 0 14 0 14 0 14 0 14 0 14 0 14 0 14 0 7 0 14 0 14 0 14 0 14 0 14 0 1 0 14 0 14 0 14 0 14 0 14 0 14 0 14 0 14 0 14 0 14 0 14 0 7 0 14 0 14 0 7 0 14 0 14 0 14 0 14 0 14 0 14 0 14 0 14 0 14 0 14 0 14 0 7 0 14 0 14 0 14 0 14 0 14 0 7 0 14 0 14 0 14 0 14 0 14 0 14 0 14 0 14 0 14 0 14 0 14 0 7]
```

发现周期为7或14.

我们只要先经过第一天, 再把剩下的`N %= 14`, 最后计算就好.
